(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5c7213e"],{"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),c=n("da84"),o=n("c65b"),a=n("e330"),i=n("1626"),s=n("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=c.Error,d=a(/./.test);r({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!i(t))return d(this,e);var n=o(t,this,e);if(null!==n&&!s(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"06c5":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var r=n("6b75");function c(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},1799:function(e,t,n){"use strict";var r=n("7a23"),c={key:0,"aria-label":"Page navigation example"},o={class:"pagination justify-content-center"},a=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[a],s=["onClick"],l=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),u=[l];function d(e,t,n,a,l,d){return n.pages.total_pages>1?(Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",c,[Object(r["createElementVNode"])("ul",o,[n.pages.has_pre?(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:0,class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pages.has_pre}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(e){return d.updatePage(n.pages.current_page-1)}),["prevent"]))},i)],2)):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.pages.total_pages,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:Object(r["normalizeClass"])(["page-item",{active:e===n.pages.current_page}]),key:e},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(r["withModifiers"])((function(t){return d.updatePage(e)}),["prevent"])},Object(r["toDisplayString"])(e),9,s)],2)})),128)),n.pages.has_next?(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:1,class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pages.has_next}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return d.updatePage(n.pages.current_page+1)}),["prevent"]))},u)],2)):Object(r["createCommentVNode"])("",!0)])])):Object(r["createCommentVNode"])("",!0)}var b={props:["pages"],methods:{updatePage:function(e){this.pages.current_page!==e&&this.$emit("emit-pages",e)}}},f=n("6b0d"),p=n.n(f);const g=p()(b,[["render",d]]);t["a"]=g},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("6b75");function c(e){if(Array.isArray(e))return Object(r["a"])(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var a=n("06c5");n("d9e2");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return c(e)||o(e)||Object(a["a"])(e)||i()}},"3e2b":function(e,t,n){"use strict";n.r(t);n("caad"),n("2532");var r=n("7a23"),c=Object(r["createElementVNode"])("div",{class:"card border-0 rounded-0 bg-dark text-white mb-2 mb-md-0"},[Object(r["createElementVNode"])("div",{class:"filters",style:{height:"200px","background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2022vue3/1649505629963.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=iMovXhthEqJHw8as4m15lUYfgKoD94dcYfYD%2FV0L9c0c1uPxSTt0FXk0khsjkchc20uRkDt6zRjuKemZDbcLr8BfAVa357iohNEmWLw6h5nyRtEzoQmpJ1SczedGDWAUyo%2Brk25XaHULKbl3r3IMI1%2FIZzUNbEfIxQPxanNn5FpdqUZ7QUITpED5%2FgP8d7Jslp%2BxXhOi1DP6mPD4bAgLDMFC%2FZovSbuZE8LJUItZxRUO8c4fGa8lX78ujRA%2BqadZ5zkQlIZgSC6Ohk4u%2FRtgShj8gd69Kh2mv22BB25eLXwT1BYz65VHw92z5K7pLsqCClFKT5UnkGX%2F9uB9AjXS1w%3D%3D)","background-size":"cover","background-position":"center bottom","background-attachment":"fixed"}}),Object(r["createElementVNode"])("div",{class:"card-img-overlay d-flex flex-column justify-content-center align-item-center"},[Object(r["createElementVNode"])("h1",{class:"card-title text-center fw-bold"},"產品列表")])],-1),o={class:"container mt-0 mt-md-3"},a={class:"row flex-column flex-md-row"},i={class:"subNav sticky-top col-12 mt-4 flex-column flex-md-row border-0"},s={class:"list-group rounded-0 list-group-horizontal"},l=Object(r["createElementVNode"])("i",{class:"bi bi-arrow-right-circle"},null,-1),u=Object(r["createTextVNode"])(" 全部"),d=[l,u],b=["onClick"],f=Object(r["createElementVNode"])("i",{class:"bi bi-arrow-right-circle"},null,-1),p={class:"col-12"},g={class:"row mt-4"},m={class:"col mb-4"},h={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},v={class:"card h-100 rounded-0 position-relative"},j=["onClick"],O={key:0,style:{"z-index":"1"},class:"fs-4 bi-suit-heart-fill position-absolute top-0 end-0 me-2 mt-1 text-danger"},y={key:1,style:{"z-index":"1"},class:"fs-4 bi bi-suit-heart position-absolute top-0 end-0 me-2 mt-1 text-white"},k=["onClick"],E={class:"card-body"},x={class:"badge bg-soft text-center text-light"},w=["onClick"],C={class:"mb-3 d-flex flex-column justify-content-end align-items-start"},N={key:0,class:"h5 list-inline-item"},V={key:1,class:"fs-7 list-inline-item text-secondary"},B={key:2,class:"fs-6 text-danger fw-bold"},S={class:"d-grid d-md-flex justify-content-md-between"},F=["onClick"],P=["disabled","onClick"],_={key:0,class:"spinner-border text-light spinner-border-sm",role:"status"},A=Object(r["createElementVNode"])("span",{class:"visually-hidden"},"Loading...",-1),I=[A],z=Object(r["createTextVNode"])(" 加到購物車 ");function L(e,t,n,l,u,A){var L=this,D=Object(r["resolveComponent"])("Loading"),M=Object(r["resolveComponent"])("Pagination");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(D,{active:e.isLoading,loader:"bars",color:"#236F6B"},null,8,["active"]),c,Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("a",{href:"#",class:"list-group-item list-group-item-action rounded-0 p-3",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(e){u.selectCategory="",L.$route.params.selectCategory=""}),["prevent"]))},d),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(u.categories,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("a",{href:"#",key:e,class:"list-group-item list-group-item-action rounded-0 p-3",onClick:Object(r["withModifiers"])((function(t){return u.selectCategory=e}),["prevent"])},[f,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e),1)],8,b)})),128))])]),Object(r["createElementVNode"])("div",p,[Object(r["createElementVNode"])("div",g,[Object(r["createElementVNode"])("div",m,[Object(r["createElementVNode"])("div",h,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(A.filterProducts,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"col",key:t.id},[Object(r["createElementVNode"])("div",v,[Object(r["createElementVNode"])("a",{href:"#",onClick:Object(r["withModifiers"])((function(e){return A.addMyFavorite(t)}),["prevent"]),class:Object(r["normalizeClass"])([{active:u.myFavorite.includes(t.id)},"link-secondary d-block rounded-0"])},[u.myFavorite.includes(t.id)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",O)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",y))],10,j),Object(r["createElementVNode"])("a",{href:"#",class:"img-card rounded-0",onClick:Object(r["withModifiers"])((function(e){return A.getProduct(t.id)}),["prevent"])},[Object(r["createElementVNode"])("div",{class:"card-imageUrl rounded-0",style:Object(r["normalizeStyle"])([{height:"300px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)],8,k),Object(r["createElementVNode"])("div",E,[Object(r["createElementVNode"])("p",x,Object(r["toDisplayString"])(t.category),1),Object(r["createElementVNode"])("a",{href:"#",class:"link-soft card-title mb-3 d-block fs-5",onClick:Object(r["withModifiers"])((function(e){return A.getProduct(t.id)}),["prevent"])},Object(r["toDisplayString"])(t.title),9,w),Object(r["createElementVNode"])("div",C,[t.price?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",N,Object(r["toDisplayString"])(t.origin_price)+" 元 ",1)),t.price?(Object(r["openBlock"])(),Object(r["createElementBlock"])("del",V,"原價 NT$ "+Object(r["toDisplayString"])(e.$filters.currency(t.origin_price))+" 元",1)):Object(r["createCommentVNode"])("",!0),t.price?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",B," NT$ "+Object(r["toDisplayString"])(e.$filters.currency(t.price))+" 元 ",1)):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",S,[Object(r["createElementVNode"])("button",{class:"btn btn-outline-secondary rounded-0 border w-100 py-2 mb-3 mb-md-0",type:"button",onClick:function(e){return A.getProduct(t.id)}}," 查看更多 ",8,F),Object(r["createElementVNode"])("button",{class:"btn btn-soft text-light rounded-0 border-0 w-100 py-2",type:"button",disabled:L.status.loadingItem===t.id,onClick:function(e){return A.addCart(t.id)}},[L.status.loadingItem===t.id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",_,I)):Object(r["createCommentVNode"])("",!0),z],8,P)])])])])})),128))])]),Object(r["createVNode"])(M,{class:"d-flex justify-content-center justify-content-md-end",pages:u.pagination,onEmitPages:A.getProducts},null,8,["pages","onEmitPages"])])])])])],64)}var D=n("2909"),M=(n("a434"),n("99af"),n("fb6a"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("159b"),n("4de4"),n("ac1f"),n("466d"),n("cfb9")),$=n("1799"),R=n("b583"),U={data:function(){return{products:[],product:{},pagination:{},status:{loadingItem:""},categories:[],selectCategory:"",myFavorite:R["a"].get()||[]}},components:{Pagination:$["a"]},provide:function(){return{emitter:M["a"]}},methods:{addMyFavorite:function(e){this.myFavorite.includes(e.id)?this.myFavorite.splice(this.myFavorite.indexOf(e.id),1):(this.myFavorite.push(e.id),this.favShowAlert())},getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jiangs2022vue3","/products/all");this.$http.get(n).then((function(n){if(n.data.success){e.products=n.data.products,e.getCategories();var r=e.$route.params.selectCategory;r&&(e.selectCategory=r),""!==e.selectCategory?e.pagination={}:e.setPage(t),e.isLoading=!1}else e.isLoading=!1})).catch((function(t){e.$httpMessageState(t,"錯誤"),e.isLoading=!1}))},setPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=12;this.pagination={total_pages:Math.ceil(this.products.length/t),current_page:e,has_pre:1!==e,has_next:!1,category:null},this.pagination.current_page>=this.pagination.total_pages?(this.pagination.current_page=this.pagination.total_pages,this.pagination.has_next=!1):this.pagination.has_next=!0;var n=this.pagination.current_page*t-t,r=this.pagination.current_page*t;this.products=this.products.slice(n,r)},getCategories:function(){var e=new Set;this.products.forEach((function(t){e.add(t.category)})),this.categories=Object(D["a"])(e)},getProduct:function(e){this.$router.push("/product/".concat(e))},addCart:function(e){var t=this,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jiangs2022vue3","/cart");this.status.loadingItem=e;var r={product_id:e,qty:1};this.$http.post(n,{data:r}).then((function(){t.status.loadingItem="",t.showAlert(),M["a"].emit("update-cart")}))},showAlert:function(){this.$swal.fire({position:"center",icon:"success",title:"已加入購物車",showConfirmButton:!1,timer:2e3,iconColor:"#236F6B"})},favShowAlert:function(){this.$swal.fire({position:"center",icon:"success",title:"已加入收藏",showConfirmButton:!1,timer:2e3,iconColor:"#236F6B"})}},watch:{myFavorite:{handler:function(){R["a"].save(this.myFavorite),M["a"].emit("update-favorite")},deep:!0},selectCategory:function(e,t){""!==e&&""!==t||this.getProducts()}},computed:{filterProducts:function(){var e=this;return this.products.filter((function(t){return t.category.match(e.selectCategory)}))}},created:function(){this.getProducts()}},T=(n("9381"),n("6b0d")),X=n.n(T);const Z=X()(U,[["render",L]]);t["default"]=Z},"466d":function(e,t,n){"use strict";var r=n("c65b"),c=n("d784"),o=n("825a"),a=n("50c4"),i=n("577e"),s=n("1d80"),l=n("dc4a"),u=n("8aa5"),d=n("14c3");c("match",(function(e,t,n){return[function(t){var n=s(this),c=void 0==t?void 0:l(t,e);return c?r(c,t,n):new RegExp(t)[e](i(n))},function(e){var r=o(this),c=i(e),s=n(t,r,c);if(s.done)return s.value;if(!r.global)return d(r,c);var l=r.unicode;r.lastIndex=0;var b,f=[],p=0;while(null!==(b=d(r,c))){var g=i(b[0]);f[p]=g,""===g&&(r.lastIndex=u(c,a(r.lastIndex),l)),p++}return 0===p?null:f}]}))},"4df4":function(e,t,n){"use strict";var r=n("da84"),c=n("0366"),o=n("c65b"),a=n("7b0b"),i=n("9bdd"),s=n("e95a"),l=n("68ee"),u=n("07fa"),d=n("8418"),b=n("9a1f"),f=n("35a1"),p=r.Array;e.exports=function(e){var t=a(e),n=l(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=c(g,r>2?arguments[2]:void 0));var h,v,j,O,y,k,E=f(t),x=0;if(!E||this==p&&s(E))for(h=u(t),v=n?new this(h):p(h);h>x;x++)k=m?g(t[x],x):t[x],d(v,x,k);else for(O=b(t,E),y=O.next,v=n?new this:[];!(j=o(y,O)).done;x++)k=m?i(O,g,[j.value,x],!0):j.value,d(v,x,k);return v.length=x,v}},"6b75":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"83ae":function(e,t,n){},9381:function(e,t,n){"use strict";n("83ae")},"9bdd":function(e,t,n){var r=n("825a"),c=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){c(e,"throw",a)}}},a630:function(e,t,n){var r=n("23e7"),c=n("4df4"),o=n("1c7e"),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:c})},ab36:function(e,t,n){var r=n("861d"),c=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&c(e,"cause",t.cause)}},b0c0:function(e,t,n){var r=n("83ab"),c=n("5e77").EXISTS,o=n("e330"),a=n("9bf2").f,i=Function.prototype,s=o(i.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec),d="name";r&&!c&&a(i,d,{configurable:!0,get:function(){try{return u(l,s(this))[1]}catch(e){return""}}})},b980:function(e,t,n){var r=n("d039"),c=n("5c6c");e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",c(1,7)),7!==e.stack)}))},c770:function(e,t,n){var r=n("e330"),c=r("".replace),o=function(e){return String(Error(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,i=a.test(o);e.exports=function(e,t){if(i&&"string"==typeof e)while(t--)e=c(e,a,"");return e}},d28b:function(e,t,n){var r=n("746f");r("iterator")},d9e2:function(e,t,n){var r=n("23e7"),c=n("da84"),o=n("2ba4"),a=n("e5cb"),i="WebAssembly",s=c[i],l=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=a(e,t,l),r({global:!0,forced:l},n)},d=function(e,t){if(s&&s[e]){var n={};n[e]=a(i+"."+e,t,l),r({target:i,stat:!0,forced:l},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},e391:function(e,t,n){var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e5cb:function(e,t,n){"use strict";var r=n("d066"),c=n("1a2d"),o=n("9112"),a=n("3a9b"),i=n("d2bb"),s=n("e893"),l=n("7156"),u=n("e391"),d=n("ab36"),b=n("c770"),f=n("b980"),p=n("c430");e.exports=function(e,t,n,g){var m=g?2:1,h=e.split("."),v=h[h.length-1],j=r.apply(null,h);if(j){var O=j.prototype;if(!p&&c(O,"cause")&&delete O.cause,!n)return j;var y=r("Error"),k=t((function(e,t){var n=u(g?t:e,void 0),r=g?new j(e):new j;return void 0!==n&&o(r,"message",n),f&&o(r,"stack",b(r.stack,2)),this&&a(O,this)&&l(r,this,k),arguments.length>m&&d(r,arguments[m]),r}));if(k.prototype=O,"Error"!==v&&(i?i(k,y):s(k,y,{name:!0})),s(k,j),!p)try{O.name!==v&&o(O,"name",v),O.constructor=k}catch(E){}return k}}},fb6a:function(e,t,n){"use strict";var r=n("23e7"),c=n("da84"),o=n("e8b5"),a=n("68ee"),i=n("861d"),s=n("23cb"),l=n("07fa"),u=n("fc6a"),d=n("8418"),b=n("b622"),f=n("1dde"),p=n("f36a"),g=f("slice"),m=b("species"),h=c.Array,v=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var n,r,c,b=u(this),f=l(b),g=s(e,f),j=s(void 0===t?f:t,f);if(o(b)&&(n=b.constructor,a(n)&&(n===h||o(n.prototype))?n=void 0:i(n)&&(n=n[m],null===n&&(n=void 0)),n===h||void 0===n))return p(b,g,j);for(r=new(void 0===n?h:n)(v(j-g,0)),c=0;g<j;g++,c++)g in b&&d(r,c,b[g]);return r.length=c,r}})}}]);
//# sourceMappingURL=chunk-e5c7213e.199cadca.js.map