(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5121dc76"],{"0ac1":function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),r={class:"container mt-5 p-0"},a=Object(o["createElementVNode"])("h2",{class:"text-center mb-5 fw-bold"},"購物車",-1),s={class:"check-step row g-0 align-items-center text-center"},n=Object(o["createElementVNode"])("div",{class:"col"},[Object(o["createElementVNode"])("span",{class:"fs-7"},"1"),Object(o["createElementVNode"])("p",{class:"m-3 text-soft"},"確認訂單"),Object(o["createElementVNode"])("div",{class:"step-bar-none"})],-1),l={class:"col"},d=Object(o["createElementVNode"])("span",{class:"fs-7"},"2",-1),i=Object(o["createElementVNode"])("p",{class:"m-3 text-soft"},"建立訂單",-1),b={key:0,class:"step-bar"},m={key:1,class:"step-bar-none"},j={class:"col"},O=Object(o["createElementVNode"])("span",{class:"fs-7"},"3",-1),p=Object(o["createElementVNode"])("p",{class:"m-3 text-soft"},"完成訂單",-1),u={key:0,class:"step-bar-none"},E={key:1,class:"step-bar"},N={key:0,class:"container text-center mt-5 mb-5"},f={class:"card text-center"},V=Object(o["createElementVNode"])("div",{class:"card-header bg-soft text-white"}," 付款成功，感謝您的購買與支持 ",-1),g={class:"card-body"},y=Object(o["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-check-circle-fill text-soft mb-3",viewBox:"0 0 16 16"},[Object(o["createElementVNode"])("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})],-1),v=Object(o["createElementVNode"])("h5",{class:"fs-2 fw-bold card-title"},"感謝您的訂購",-1),h=Object(o["createElementVNode"])("p",{class:"card-text border-bottom pb-3"},[Object(o["createTextVNode"])(" 商品預計於七個工作天內寄送"),Object(o["createElementVNode"])("br"),Object(o["createTextVNode"])("（不含週休及國定例假日）"),Object(o["createElementVNode"])("br"),Object(o["createTextVNode"])("再請留意簡訊通知及配送人員的電話 ")],-1),k={class:"row d-flex justify-content-start align-items-start text-start px-0 px-md-10 m-0"},x=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"購買日期",-1),B={class:"col-sm-9"},S=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"訂單編號",-1),w={class:"col-sm-9"},D={class:"m-0"},$=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"Email",-1),_={class:"col-sm-9"},T=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"收件人姓名",-1),C={class:"col-sm-9"},L=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"收件人電話",-1),I={class:"col-sm-9"},F=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"收件人地址",-1),q={class:"col-sm-9"},z=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"購買項目",-1),A={class:"col-sm-9"},J=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"總金額",-1),M={class:"col-sm-9"},R=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"付款狀態",-1),X={class:"col-sm-9"},G={key:0,class:"text-danger"},H={key:1,class:"text-success"},K={class:"d-flex align-items-end justify-content-between mt-5"},P=Object(o["createTextVNode"])("回首頁"),Q=Object(o["createTextVNode"])("繼續購物"),U={key:1,class:"container text-center mt-5 mb-5"},W={class:"card text-center"},Y={class:"card-header bg-soft text-white"},Z={class:"card-body"},ee={class:"row d-flex justify-content-start align-items-start text-start px-0 px-md-10 m-0"},te=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"購買日期",-1),ce={class:"col-sm-9"},oe=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"訂單編號",-1),re={class:"col-sm-9"},ae={class:"m-0"},se=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"Email",-1),ne={class:"col-sm-9"},le=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"收件人姓名",-1),de={class:"col-sm-9"},ie=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"收件人電話",-1),be={class:"col-sm-9"},me=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"收件人地址",-1),je={class:"col-sm-9"},Oe=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"購買項目",-1),pe={class:"col-sm-9"},ue=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"總金額",-1),Ee={class:"col-sm-9"},Ne=Object(o["createElementVNode"])("dt",{class:"col-sm-3"},"付款狀態",-1),fe={class:"col-sm-9"},Ve={key:0,class:"text-danger"},ge={key:1,class:"text-success"},ye={class:"d-flex align-items-end justify-content-between mt-5"},ve=Object(o["createTextVNode"])("繼續購物"),he={key:0};function ke(e,t,c,ke,xe,Be){var Se=Object(o["resolveComponent"])("Loading"),we=Object(o["resolveComponent"])("RouterLink");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(Se,{active:xe.isLoading,loader:"bars",color:"#236F6B"},null,8,["active"]),Object(o["createElementVNode"])("div",r,[a,Object(o["createElementVNode"])("div",s,[n,Object(o["createElementVNode"])("div",l,[d,i,xe.order.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b))]),Object(o["createElementVNode"])("div",j,[O,p,xe.order.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u))])])]),xe.order.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createElementVNode"])("div",f,[V,Object(o["createElementVNode"])("div",g,[y,v,h,Object(o["createElementVNode"])("dl",k,[x,Object(o["createElementVNode"])("dd",B,Object(o["toDisplayString"])(e.$filters.date(xe.order.create_at)),1),S,Object(o["createElementVNode"])("dd",w,[Object(o["createElementVNode"])("p",D,Object(o["toDisplayString"])(xe.order.id),1)]),$,Object(o["createElementVNode"])("dd",_,Object(o["toDisplayString"])(xe.order.user.email),1),T,Object(o["createElementVNode"])("dd",C,Object(o["toDisplayString"])(xe.order.user.name),1),L,Object(o["createElementVNode"])("dd",I,Object(o["toDisplayString"])(xe.order.user.tel),1),F,Object(o["createElementVNode"])("dd",q,Object(o["toDisplayString"])(xe.order.user.address),1),z,Object(o["createElementVNode"])("dd",A,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(xe.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.id},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.product.title),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.qty)+Object(o["toDisplayString"])(t.product.unit),1),Object(o["createElementVNode"])("span",null," NT$ "+Object(o["toDisplayString"])(e.$filters.currency(t.final_total)),1)])})),128))]),J,Object(o["createElementVNode"])("dd",M,"NT$ "+Object(o["toDisplayString"])(e.$filters.currency(xe.order.total)),1),R,Object(o["createElementVNode"])("dd",X,[xe.order.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",H,"付款完成")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",G,"尚未付款"))])]),Object(o["createElementVNode"])("div",K,[Object(o["createVNode"])(we,{class:"btn btn-outline-soft",to:"/"},{default:Object(o["withCtx"])((function(){return[P]})),_:1}),Object(o["createVNode"])(we,{class:"btn btn-soft",to:"/products"},{default:Object(o["withCtx"])((function(){return[Q]})),_:1})])])])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",U,[Object(o["createElementVNode"])("div",W,[Object(o["createElementVNode"])("div",Y," 已建立訂單："+Object(o["toDisplayString"])(xe.order.id),1),Object(o["createElementVNode"])("div",Z,[Object(o["createElementVNode"])("dl",ee,[te,Object(o["createElementVNode"])("dd",ce,Object(o["toDisplayString"])(e.$filters.date(xe.order.create_at)),1),oe,Object(o["createElementVNode"])("dd",re,[Object(o["createElementVNode"])("p",ae,Object(o["toDisplayString"])(xe.order.id),1)]),se,Object(o["createElementVNode"])("dd",ne,Object(o["toDisplayString"])(xe.order.user.email),1),le,Object(o["createElementVNode"])("dd",de,Object(o["toDisplayString"])(xe.order.user.name),1),ie,Object(o["createElementVNode"])("dd",be,Object(o["toDisplayString"])(xe.order.user.tel),1),me,Object(o["createElementVNode"])("dd",je,Object(o["toDisplayString"])(xe.order.user.address),1),Oe,Object(o["createElementVNode"])("dd",pe,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(xe.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.id},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.product.title),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.qty)+Object(o["toDisplayString"])(t.product.unit),1),Object(o["createElementVNode"])("span",null," NT$ "+Object(o["toDisplayString"])(e.$filters.currency(t.final_total)),1)])})),128))]),ue,Object(o["createElementVNode"])("dd",Ee,"NT$ "+Object(o["toDisplayString"])(e.$filters.currency(xe.order.total)),1),Ne,Object(o["createElementVNode"])("dd",fe,[xe.order.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ge,"付款完成")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Ve,"尚未付款"))])]),Object(o["createElementVNode"])("div",ye,[Object(o["createVNode"])(we,{class:"btn btn-outline-soft",to:"/products"},{default:Object(o["withCtx"])((function(){return[ve]})),_:1}),!1===xe.order.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",he,[Object(o["createElementVNode"])("button",{class:"btn btn-soft",onClick:t[0]||(t[0]=function(){return Be.payOrder&&Be.payOrder.apply(Be,arguments)})},"確認付款去")])):Object(o["createCommentVNode"])("",!0)])])])]))],64)}c("99af");var xe=c("cfb9"),Be={data:function(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getCarts:function(){var e=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jiangs2022vue3","/cart")).then((function(t){e.isLoading=!1,e.cartData=t.data.data}))},getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jiangs2022vue3","/order/").concat(this.orderId);this.$http.get(t).then((function(t){t.data.success&&(e.order=t.data.order)}))},payOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jiangs2022vue3","/pay/").concat(this.orderId);this.$http.post(t).then((function(t){t.data.success&&(e.order.is_paid=!0,e.getOrder(),e.getCarts(),xe["a"].emit("update-cart"))}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},Se=(c("41ab"),c("6b0d")),we=c.n(Se);const De=we()(Be,[["render",ke]]);t["default"]=De},"1dde":function(e,t,c){var o=c("d039"),r=c("b622"),a=c("2d00"),s=r("species");e.exports=function(e){return a>=51||!o((function(){var t=[],c=t.constructor={};return c[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"41ab":function(e,t,c){"use strict";c("6d78")},"6d78":function(e,t,c){},8418:function(e,t,c){"use strict";var o=c("a04b"),r=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var s=o(t);s in e?r.f(e,s,a(0,c)):e[s]=c}},"99af":function(e,t,c){"use strict";var o=c("23e7"),r=c("da84"),a=c("d039"),s=c("e8b5"),n=c("861d"),l=c("7b0b"),d=c("07fa"),i=c("8418"),b=c("65f0"),m=c("1dde"),j=c("b622"),O=c("2d00"),p=j("isConcatSpreadable"),u=9007199254740991,E="Maximum allowed index exceeded",N=r.TypeError,f=O>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),V=m("concat"),g=function(e){if(!n(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},y=!f||!V;o({target:"Array",proto:!0,forced:y},{concat:function(e){var t,c,o,r,a,s=l(this),n=b(s,0),m=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?s:arguments[t],g(a)){if(r=d(a),m+r>u)throw N(E);for(c=0;c<r;c++,m++)c in a&&i(n,m,a[c])}else{if(m>=u)throw N(E);i(n,m++,a)}return n.length=m,n}})},b0c0:function(e,t,c){var o=c("83ab"),r=c("5e77").EXISTS,a=c("e330"),s=c("9bf2").f,n=Function.prototype,l=a(n.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=a(d.exec),b="name";o&&!r&&s(n,b,{configurable:!0,get:function(){try{return i(d,l(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-5121dc76.8d4d4baf.js.map